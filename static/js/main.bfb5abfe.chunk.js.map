{"version":3,"sources":["api/api.ts","components/PhotosList/PhotosList.tsx","components/Pagination/Pagination.tsx","App.tsx","index.tsx"],"names":["BASE_URL","request","url","a","item","fetch","response","json","getAllPhotos","then","data","slice","PhotosList","props","photos","loading","deletePhoto","useState","modalIsOpen","setIsOpen","customStyles","content","top","left","right","bottom","marginRight","transition","transform","openModal","closeModal","className","map","photo","type","onClick","src","alt","isOpen","onRequestClose","contentLabel","style","aria-label","title","id","Pagination","photosPerPage","totalPhotos","paginate","pageNumbers","setPageNumbers","countOfPages","Math","ceil","useEffect","arr","i","push","number","href","event","App","setPhotos","setLoading","currentPage","setCurretPage","isReversed","setIsReversed","respose","indexOfLastPost","indexOfFirstPost","currentPhotos","reverse","filter","length","pageNumber","preventDefault","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bfb5abfe.chunk.js","sourcesContent":["export const BASE_URL = 'https://jsonplaceholder.typicode.com';\n\nconst request = async (url: string, item = {}) => {\n  const response = await fetch(`${BASE_URL}${url}`, item);\n\n  return response.json();\n};\n\nexport const getAllPhotos = async () => {\n  return request('/photos')\n    .then(data => data.slice(0, 500));\n};\n\nexport const deletePhoto = (photoId: number) => {\n  return request(`/photos/${photoId}`, { method: 'DELETE' });\n};\n","import React, { useState } from 'react';\nimport Modali from 'react-modal';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './PhotosList.scss';\n\ntype Props = {\n  photos: Photos[];\n  loading: boolean;\n  deletePhoto: (id: number) => void;\n};\n\nexport const PhotosList: React.FC<Props> = (props) => {\n  const { photos, loading, deletePhoto } = props;\n  const [modalIsOpen, setIsOpen] = useState(false);\n\n  const customStyles = {\n    content: {\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      marginRight: '-50%',\n      transition: 'transform 0.2s',\n      transform: 'translate(-50%, -50%)',\n    },\n  };\n\n  const openModal = () => {\n    setIsOpen(true);\n  };\n\n  const closeModal = () => {\n    setIsOpen(false);\n  };\n\n  return (\n    <div className=\"cards\">\n      {loading ? (\n        <>\n          {photos.map(photo => {\n            return (\n              <div className=\"card\" key={photo.id}>\n                <button type=\"button\" className=\"card-button\" onClick={openModal}>\n                  <img\n                    src={photo.url}\n                    className=\"card-img-top\"\n                    alt=\"...\"\n                  />\n                </button>\n                <Modali\n                  isOpen={modalIsOpen}\n                  onRequestClose={closeModal}\n                  contentLabel=\"Example Modal\"\n                  style={customStyles}\n                >\n                  <button type=\"button\" onClick={closeModal} className=\"btn-close\" aria-label=\"Close\"></button>\n                  <img\n                    src={photo.url}\n                    className=\"card-img-top\"\n                    alt=\"...\"\n                  />\n                </Modali>\n                <div className=\"card-body\">\n                  <p className=\"card-text\">{photo.title}</p>\n                  <button\n                    className=\"btn btn-danger\"\n                    type=\"button\"\n                    onClick={() => deletePhoto(photo.id)}\n                  >\n                    DELETE\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </>\n      )\n        : <div> Loading... </div>}\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './Pagination.scss';\n\ntype Props = {\n  photosPerPage: number;\n  totalPhotos: number;\n  paginate: (pageNumber: number, event: React.MouseEvent<HTMLElement>) => void;\n};\n\nexport const Pagination: React.FC<Props> = (props) => {\n  const { photosPerPage, totalPhotos, paginate } = props;\n  const [pageNumbers, setPageNumbers] = useState([] as number[]);\n  const countOfPages = Math.ceil(totalPhotos / photosPerPage);\n\n  useEffect(() => {\n    const arr = [];\n\n    for (let i = 1; i <= countOfPages; i += 1) {\n      arr.push(i);\n    }\n\n    setPageNumbers(arr);\n  }, [pageNumbers]);\n\n  return (\n    <nav aria-label=\"Page navigation example\">\n      <ul className=\"pagination\">\n        {pageNumbers.map(number => (\n          <li key={number} className=\"page-item\">\n            <a\n              href=\"!#\"\n              className=\"page-link\"\n              onClick={(event:React.MouseEvent<HTMLElement>) => paginate(number, event)}\n            >\n              {number}\n            </a>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { getAllPhotos } from './api/api';\nimport { PhotosList } from './components/PhotosList/PhotosList';\nimport { Pagination } from './components/Pagination/Pagination';\n\nexport const App: React.FC = () => {\n  const [photos, setPhotos] = useState([] as Photos[]);\n  const [loading, setLoading] = useState(false);\n  const [currentPage, setCurretPage] = useState(1);\n  const [photosPerPage] = useState(25);\n  const [isReversed, setIsReversed] = useState(false);\n\n  useEffect(() => {\n    getAllPhotos()\n      .then(respose => {\n        setPhotos(respose);\n        setLoading(true);\n      });\n  }, []);\n\n  const deletePhoto = (id: number) => {\n    setPhotos(photos.filter(photo => photo.id !== id));\n  };\n\n  const reverse = () => {\n    setIsReversed(!isReversed);\n    setPhotos(photos.reverse());\n  };\n\n  const indexOfLastPost = currentPage * photosPerPage;\n  const indexOfFirstPost = indexOfLastPost - photosPerPage;\n  const currentPhotos = photos.slice(indexOfFirstPost, indexOfLastPost);\n\n  const paginate = (pageNumber: number, event: React.MouseEvent<HTMLElement>) => {\n    event.preventDefault();\n    setCurretPage(pageNumber);\n  };\n\n  return (\n    <div className=\"starter\">\n      <button type=\"button\" className=\"btn btn-primary starter__button\" onClick={reverse}>reverse</button>\n      <div className=\"container\">\n        <PhotosList\n          photos={currentPhotos}\n          loading={loading}\n          deletePhoto={deletePhoto}\n        />\n        <Pagination\n          photosPerPage={photosPerPage}\n          totalPhotos={photos.length}\n          paginate={paginate}\n        />\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { App } from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}